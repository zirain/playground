apiVersion: install.istio.io/v1alpha1
kind: IstioOperator
spec:
  profile: ambient
  meshConfig:
    accessLogFile: /dev/stdout
    defaultConfig:
      tracing:
        sampling: 100.0
    extensionProviders:
      - name: otel-tracing
        opentelemetry:
          service: opentelemetry-collector.monitoring.svc.cluster.local
          port: 4317
    defaultProviders:
      accessLogging:
        - envoy
      metrics:
        - prometheus
      tracing:
        - otel-tracing
