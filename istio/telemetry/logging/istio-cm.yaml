apiVersion: v1
data:
  mesh: |-
    defaultConfig:
      discoveryAddress: istiod.istio-system.svc:15012
      proxyMetadata: {}
      tracing:
        zipkin:
          address: zipkin.istio-system:9411
    enablePrometheusMerge: true
    defaultProviders:
      accessLogging:
      - otel-log
    extensionProviders:
    - name: file-log
      envoyFileAccessLog:
        path: /dev/stdout
    - name: otel-log
      envoyOtelAls:
        service: otel-collector.istio-system.svc.cluster.local
        port: 4317
        attributes:
          "protocol": "%PROTOCOL%"
    rootNamespace: istio-system
    trustDomain: cluster.local
  meshNetworks: 'networks: {}'
kind: ConfigMap
metadata:
  name: istio
  namespace: istio-system
