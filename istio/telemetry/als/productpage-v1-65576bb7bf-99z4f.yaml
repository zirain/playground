configs:
- '@type': type.googleapis.com/envoy.admin.v3.BootstrapConfigDump
  bootstrap:
    admin:
      access_log_path: /dev/null
      address:
        socket_address:
          address: 127.0.0.1
          port_value: 15000
      profile_path: /var/lib/istio/data/envoy.prof
    dynamic_resources:
      ads_config:
        api_type: GRPC
        grpc_services:
        - envoy_grpc:
            cluster_name: xds-grpc
        set_node_on_first_message_only: true
        transport_api_version: V3
      cds_config:
        ads: {}
        initial_fetch_timeout: 0s
        resource_api_version: V3
      lds_config:
        ads: {}
        initial_fetch_timeout: 0s
        resource_api_version: V3
    layered_runtime:
      layers:
      - name: deprecation
        static_layer:
          envoy.deprecated_features:envoy.config.listener.v3.Listener.hidden_envoy_deprecated_use_original_dst: true
          envoy.reloadable_features.http_reject_path_with_fragment: false
          envoy.reloadable_features.require_strict_1xx_and_204_response_headers: false
          re2.max_program_size.error_level: 1024
      - name: global config
        static_layer:
          overload.global_downstream_max_connections: 2147483647
      - admin_layer: {}
        name: admin
    node:
      cluster: productpage.default
      extensions:
      - category: envoy.formatter
        name: envoy.formatter.metadata
      - category: envoy.formatter
        name: envoy.formatter.req_without_query
      - category: envoy.tls.cert_validator
        name: envoy.tls.cert_validator.default
      - category: envoy.tls.cert_validator
        name: envoy.tls.cert_validator.spiffe
      - category: envoy.common.key_value
        name: envoy.key_value.file_based
      - category: envoy.transport_sockets.upstream
        name: envoy.transport_sockets.alts
      - category: envoy.transport_sockets.upstream
        name: envoy.transport_sockets.quic
      - category: envoy.transport_sockets.upstream
        name: envoy.transport_sockets.raw_buffer
      - category: envoy.transport_sockets.upstream
        name: envoy.transport_sockets.starttls
      - category: envoy.transport_sockets.upstream
        name: envoy.transport_sockets.tap
      - category: envoy.transport_sockets.upstream
        name: envoy.transport_sockets.tls
      - category: envoy.transport_sockets.upstream
        name: envoy.transport_sockets.upstream_proxy_protocol
      - category: envoy.transport_sockets.upstream
        name: raw_buffer
      - category: envoy.transport_sockets.upstream
        name: starttls
      - category: envoy.transport_sockets.upstream
        name: tls
      - category: envoy.upstreams
        name: envoy.filters.connection_pools.tcp.generic
      - category: envoy.resource_monitors
        name: envoy.resource_monitors.fixed_heap
      - category: envoy.resource_monitors
        name: envoy.resource_monitors.injected_resource
      - category: envoy.compression.decompressor
        name: envoy.compression.brotli.decompressor
      - category: envoy.compression.decompressor
        name: envoy.compression.gzip.decompressor
      - category: envoy.http.stateful_header_formatters
        name: preserve_case
      - category: envoy.http.original_ip_detection
        name: envoy.http.original_ip_detection.custom_header
      - category: envoy.http.original_ip_detection
        name: envoy.http.original_ip_detection.xff
      - category: envoy.rbac.matchers
        name: envoy.rbac.matchers.upstream.upstream_ip_port
      - category: envoy.thrift_proxy.transports
        name: auto
      - category: envoy.thrift_proxy.transports
        name: framed
      - category: envoy.thrift_proxy.transports
        name: header
      - category: envoy.thrift_proxy.transports
        name: unframed
      - category: envoy.sip_proxy.filters
        name: envoy.filters.sip.router
      - category: envoy.request_id
        name: envoy.request_id.uuid
      - category: envoy.upstream_options
        name: envoy.extensions.upstreams.http.v3.HttpProtocolOptions
      - category: envoy.upstream_options
        name: envoy.upstreams.http.http_protocol_options
      - category: envoy.filters.udp_listener
        name: envoy.filters.udp.dns_filter
      - category: envoy.filters.udp_listener
        name: envoy.filters.udp_listener.udp_proxy
      - category: envoy.thrift_proxy.protocols
        name: auto
      - category: envoy.thrift_proxy.protocols
        name: binary
      - category: envoy.thrift_proxy.protocols
        name: binary/non-strict
      - category: envoy.thrift_proxy.protocols
        name: compact
      - category: envoy.thrift_proxy.protocols
        name: twitter
      - category: envoy.resolvers
        name: envoy.ip
      - category: envoy.matching.http.input
        name: request-headers
      - category: envoy.matching.http.input
        name: request-trailers
      - category: envoy.matching.http.input
        name: response-headers
      - category: envoy.matching.http.input
        name: response-trailers
      - category: envoy.quic.server.crypto_stream
        name: envoy.quic.crypto_stream.server.quiche
      - category: envoy.transport_sockets.downstream
        name: envoy.transport_sockets.alts
      - category: envoy.transport_sockets.downstream
        name: envoy.transport_sockets.quic
      - category: envoy.transport_sockets.downstream
        name: envoy.transport_sockets.raw_buffer
      - category: envoy.transport_sockets.downstream
        name: envoy.transport_sockets.starttls
      - category: envoy.transport_sockets.downstream
        name: envoy.transport_sockets.tap
      - category: envoy.transport_sockets.downstream
        name: envoy.transport_sockets.tls
      - category: envoy.transport_sockets.downstream
        name: raw_buffer
      - category: envoy.transport_sockets.downstream
        name: starttls
      - category: envoy.transport_sockets.downstream
        name: tls
      - category: envoy.dubbo_proxy.filters
        name: envoy.filters.dubbo.router
      - category: envoy.tls.key_providers
        name: cryptomb
      - category: envoy.health_checkers
        name: envoy.health_checkers.redis
      - category: envoy.filters.network
        name: envoy.client_ssl_auth
      - category: envoy.filters.network
        name: envoy.echo
      - category: envoy.filters.network
        name: envoy.ext_authz
      - category: envoy.filters.network
        name: envoy.filters.network.client_ssl_auth
      - category: envoy.filters.network
        name: envoy.filters.network.connection_limit
      - category: envoy.filters.network
        name: envoy.filters.network.direct_response
      - category: envoy.filters.network
        name: envoy.filters.network.dubbo_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.echo
      - category: envoy.filters.network
        name: envoy.filters.network.ext_authz
      - category: envoy.filters.network
        name: envoy.filters.network.http_connection_manager
      - category: envoy.filters.network
        name: envoy.filters.network.kafka_broker
      - category: envoy.filters.network
        name: envoy.filters.network.kafka_mesh
      - category: envoy.filters.network
        name: envoy.filters.network.local_ratelimit
      - category: envoy.filters.network
        name: envoy.filters.network.metadata_exchange
      - category: envoy.filters.network
        name: envoy.filters.network.mongo_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.mysql_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.postgres_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.ratelimit
      - category: envoy.filters.network
        name: envoy.filters.network.rbac
      - category: envoy.filters.network
        name: envoy.filters.network.redis_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.rocketmq_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.sip_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.sni_cluster
      - category: envoy.filters.network
        name: envoy.filters.network.sni_dynamic_forward_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.tcp_cluster_rewrite
      - category: envoy.filters.network
        name: envoy.filters.network.tcp_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.thrift_proxy
      - category: envoy.filters.network
        name: envoy.filters.network.wasm
      - category: envoy.filters.network
        name: envoy.filters.network.zookeeper_proxy
      - category: envoy.filters.network
        name: envoy.http_connection_manager
      - category: envoy.filters.network
        name: envoy.mongo_proxy
      - category: envoy.filters.network
        name: envoy.ratelimit
      - category: envoy.filters.network
        name: envoy.redis_proxy
      - category: envoy.filters.network
        name: envoy.tcp_proxy
      - category: envoy.filters.network
        name: forward_downstream_sni
      - category: envoy.filters.network
        name: sni_verifier
      - category: envoy.compression.compressor
        name: envoy.compression.brotli.compressor
      - category: envoy.compression.compressor
        name: envoy.compression.gzip.compressor
      - category: envoy.thrift_proxy.filters
        name: envoy.filters.thrift.rate_limit
      - category: envoy.thrift_proxy.filters
        name: envoy.filters.thrift.router
      - category: envoy.retry_priorities
        name: envoy.retry_priorities.previous_priorities
      - category: envoy.clusters
        name: envoy.cluster.eds
      - category: envoy.clusters
        name: envoy.cluster.logical_dns
      - category: envoy.clusters
        name: envoy.cluster.original_dst
      - category: envoy.clusters
        name: envoy.cluster.static
      - category: envoy.clusters
        name: envoy.cluster.strict_dns
      - category: envoy.clusters
        name: envoy.clusters.aggregate
      - category: envoy.clusters
        name: envoy.clusters.dynamic_forward_proxy
      - category: envoy.clusters
        name: envoy.clusters.redis
      - category: envoy.quic.proof_source
        name: envoy.quic.proof_source.filter_chain
      - category: envoy.matching.common_inputs
        name: envoy.matching.common_inputs.environment_variable
      - category: envoy.internal_redirect_predicates
        name: envoy.internal_redirect_predicates.allow_listed_routes
      - category: envoy.internal_redirect_predicates
        name: envoy.internal_redirect_predicates.previous_routes
      - category: envoy.internal_redirect_predicates
        name: envoy.internal_redirect_predicates.safe_cross_scheme
      - category: envoy.dubbo_proxy.serializers
        name: dubbo.hessian2
      - category: envoy.filters.listener
        name: envoy.filters.listener.http_inspector
      - category: envoy.filters.listener
        name: envoy.filters.listener.original_dst
      - category: envoy.filters.listener
        name: envoy.filters.listener.original_src
      - category: envoy.filters.listener
        name: envoy.filters.listener.proxy_protocol
      - category: envoy.filters.listener
        name: envoy.filters.listener.tls_inspector
      - category: envoy.filters.listener
        name: envoy.listener.http_inspector
      - category: envoy.filters.listener
        name: envoy.listener.original_dst
      - category: envoy.filters.listener
        name: envoy.listener.original_src
      - category: envoy.filters.listener
        name: envoy.listener.proxy_protocol
      - category: envoy.filters.listener
        name: envoy.listener.tls_inspector
      - category: envoy.wasm.runtime
        name: envoy.wasm.runtime.null
      - category: envoy.wasm.runtime
        name: envoy.wasm.runtime.v8
      - category: envoy.matching.input_matchers
        name: envoy.matching.matchers.consistent_hashing
      - category: envoy.matching.input_matchers
        name: envoy.matching.matchers.ip
      - category: envoy.retry_host_predicates
        name: envoy.retry_host_predicates.omit_canary_hosts
      - category: envoy.retry_host_predicates
        name: envoy.retry_host_predicates.omit_host_metadata
      - category: envoy.retry_host_predicates
        name: envoy.retry_host_predicates.previous_hosts
      - category: envoy.dubbo_proxy.route_matchers
        name: default
      - category: envoy.filters.upstream_network
        name: envoy.filters.network.upstream.metadata_exchange
      - category: envoy.dubbo_proxy.protocols
        name: dubbo
      - category: envoy.tracers
        name: envoy.dynamic.ot
      - category: envoy.tracers
        name: envoy.lightstep
      - category: envoy.tracers
        name: envoy.tracers.datadog
      - category: envoy.tracers
        name: envoy.tracers.dynamic_ot
      - category: envoy.tracers
        name: envoy.tracers.lightstep
      - category: envoy.tracers
        name: envoy.tracers.opencensus
      - category: envoy.tracers
        name: envoy.tracers.skywalking
      - category: envoy.tracers
        name: envoy.tracers.xray
      - category: envoy.tracers
        name: envoy.tracers.zipkin
      - category: envoy.tracers
        name: envoy.zipkin
      - category: envoy.grpc_credentials
        name: envoy.grpc_credentials.aws_iam
      - category: envoy.grpc_credentials
        name: envoy.grpc_credentials.default
      - category: envoy.grpc_credentials
        name: envoy.grpc_credentials.file_based_metadata
      - category: envoy.bootstrap
        name: envoy.bootstrap.wasm
      - category: envoy.bootstrap
        name: envoy.extensions.network.socket_interface.default_socket_interface
      - category: envoy.matching.action
        name: composite-action
      - category: envoy.matching.action
        name: skip
      - category: envoy.http.cache
        name: envoy.extensions.http.cache.simple
      - category: envoy.access_loggers
        name: envoy.access_loggers.file
      - category: envoy.access_loggers
        name: envoy.access_loggers.http_grpc
      - category: envoy.access_loggers
        name: envoy.access_loggers.open_telemetry
      - category: envoy.access_loggers
        name: envoy.access_loggers.stderr
      - category: envoy.access_loggers
        name: envoy.access_loggers.stdout
      - category: envoy.access_loggers
        name: envoy.access_loggers.tcp_grpc
      - category: envoy.access_loggers
        name: envoy.access_loggers.wasm
      - category: envoy.access_loggers
        name: envoy.file_access_log
      - category: envoy.access_loggers
        name: envoy.http_grpc_access_log
      - category: envoy.access_loggers
        name: envoy.open_telemetry_access_log
      - category: envoy.access_loggers
        name: envoy.stderr_access_log
      - category: envoy.access_loggers
        name: envoy.stdout_access_log
      - category: envoy.access_loggers
        name: envoy.tcp_grpc_access_log
      - category: envoy.access_loggers
        name: envoy.wasm_access_log
      - category: envoy.stats_sinks
        name: envoy.dog_statsd
      - category: envoy.stats_sinks
        name: envoy.graphite_statsd
      - category: envoy.stats_sinks
        name: envoy.metrics_service
      - category: envoy.stats_sinks
        name: envoy.stat_sinks.dog_statsd
      - category: envoy.stats_sinks
        name: envoy.stat_sinks.graphite_statsd
      - category: envoy.stats_sinks
        name: envoy.stat_sinks.hystrix
      - category: envoy.stats_sinks
        name: envoy.stat_sinks.metrics_service
      - category: envoy.stats_sinks
        name: envoy.stat_sinks.statsd
      - category: envoy.stats_sinks
        name: envoy.stat_sinks.wasm
      - category: envoy.stats_sinks
        name: envoy.statsd
      - category: envoy.filters.http
        name: envoy.bandwidth_limit
      - category: envoy.filters.http
        name: envoy.buffer
      - category: envoy.filters.http
        name: envoy.cors
      - category: envoy.filters.http
        name: envoy.csrf
      - category: envoy.filters.http
        name: envoy.ext_authz
      - category: envoy.filters.http
        name: envoy.ext_proc
      - category: envoy.filters.http
        name: envoy.fault
      - category: envoy.filters.http
        name: envoy.filters.http.adaptive_concurrency
      - category: envoy.filters.http
        name: envoy.filters.http.admission_control
      - category: envoy.filters.http
        name: envoy.filters.http.alternate_protocols_cache
      - category: envoy.filters.http
        name: envoy.filters.http.aws_lambda
      - category: envoy.filters.http
        name: envoy.filters.http.aws_request_signing
      - category: envoy.filters.http
        name: envoy.filters.http.bandwidth_limit
      - category: envoy.filters.http
        name: envoy.filters.http.buffer
      - category: envoy.filters.http
        name: envoy.filters.http.cache
      - category: envoy.filters.http
        name: envoy.filters.http.cdn_loop
      - category: envoy.filters.http
        name: envoy.filters.http.composite
      - category: envoy.filters.http
        name: envoy.filters.http.compressor
      - category: envoy.filters.http
        name: envoy.filters.http.cors
      - category: envoy.filters.http
        name: envoy.filters.http.csrf
      - category: envoy.filters.http
        name: envoy.filters.http.decompressor
      - category: envoy.filters.http
        name: envoy.filters.http.dynamic_forward_proxy
      - category: envoy.filters.http
        name: envoy.filters.http.dynamo
      - category: envoy.filters.http
        name: envoy.filters.http.ext_authz
      - category: envoy.filters.http
        name: envoy.filters.http.ext_proc
      - category: envoy.filters.http
        name: envoy.filters.http.fault
      - category: envoy.filters.http
        name: envoy.filters.http.grpc_http1_bridge
      - category: envoy.filters.http
        name: envoy.filters.http.grpc_http1_reverse_bridge
      - category: envoy.filters.http
        name: envoy.filters.http.grpc_json_transcoder
      - category: envoy.filters.http
        name: envoy.filters.http.grpc_stats
      - category: envoy.filters.http
        name: envoy.filters.http.grpc_web
      - category: envoy.filters.http
        name: envoy.filters.http.header_to_metadata
      - category: envoy.filters.http
        name: envoy.filters.http.health_check
      - category: envoy.filters.http
        name: envoy.filters.http.ip_tagging
      - category: envoy.filters.http
        name: envoy.filters.http.jwt_authn
      - category: envoy.filters.http
        name: envoy.filters.http.local_ratelimit
      - category: envoy.filters.http
        name: envoy.filters.http.lua
      - category: envoy.filters.http
        name: envoy.filters.http.oauth2
      - category: envoy.filters.http
        name: envoy.filters.http.on_demand
      - category: envoy.filters.http
        name: envoy.filters.http.original_src
      - category: envoy.filters.http
        name: envoy.filters.http.ratelimit
      - category: envoy.filters.http
        name: envoy.filters.http.rbac
      - category: envoy.filters.http
        name: envoy.filters.http.router
      - category: envoy.filters.http
        name: envoy.filters.http.set_metadata
      - category: envoy.filters.http
        name: envoy.filters.http.squash
      - category: envoy.filters.http
        name: envoy.filters.http.sxg
      - category: envoy.filters.http
        name: envoy.filters.http.tap
      - category: envoy.filters.http
        name: envoy.filters.http.wasm
      - category: envoy.filters.http
        name: envoy.grpc_http1_bridge
      - category: envoy.filters.http
        name: envoy.grpc_json_transcoder
      - category: envoy.filters.http
        name: envoy.grpc_web
      - category: envoy.filters.http
        name: envoy.health_check
      - category: envoy.filters.http
        name: envoy.http_dynamo_filter
      - category: envoy.filters.http
        name: envoy.ip_tagging
      - category: envoy.filters.http
        name: envoy.local_rate_limit
      - category: envoy.filters.http
        name: envoy.lua
      - category: envoy.filters.http
        name: envoy.rate_limit
      - category: envoy.filters.http
        name: envoy.router
      - category: envoy.filters.http
        name: envoy.squash
      - category: envoy.filters.http
        name: istio.alpn
      - category: envoy.filters.http
        name: istio_authn
      - category: envoy.filters.http
        name: match-wrapper
      - category: envoy.rate_limit_descriptors
        name: envoy.rate_limit_descriptors.expr
      - category: envoy.guarddog_actions
        name: envoy.watchdog.abort_action
      - category: envoy.guarddog_actions
        name: envoy.watchdog.profile_action
      id: sidecar~10.1.0.98~productpage-v1-65576bb7bf-99z4f.default~default.svc.cluster.local
      locality: {}
      metadata:
        ANNOTATIONS:
          kubectl.kubernetes.io/default-container: productpage
          kubectl.kubernetes.io/default-logs-container: productpage
          kubernetes.io/config.seen: "2021-11-17T12:24:14.148877800Z"
          kubernetes.io/config.source: api
          prometheus.io/path: /stats/prometheus
          prometheus.io/port: "15020"
          prometheus.io/scrape: "true"
          sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
        APP_CONTAINERS: productpage
        CLUSTER_ID: Kubernetes
        ENVOY_PROMETHEUS_PORT: 15090
        ENVOY_STATUS_PORT: 15021
        INSTANCE_IPS: 10.1.0.98
        INTERCEPTION_MODE: REDIRECT
        ISTIO_PROXY_SHA: istio-proxy:ff44db02db5a99a7f06c31441c3a5a0f7ce9e2b4
        ISTIO_VERSION: 1.12.0-rc.1
        LABELS:
          app: productpage
          pod-template-hash: 65576bb7bf
          security.istio.io/tlsMode: istio
          service.istio.io/canonical-name: productpage
          service.istio.io/canonical-revision: v1
          version: v1
        MESH_ID: cluster.local
        NAME: productpage-v1-65576bb7bf-99z4f
        NAMESPACE: default
        OWNER: kubernetes://apis/apps/v1/namespaces/default/deployments/productpage-v1
        PILOT_SAN:
        - istiod.istio-system.svc
        POD_PORTS: '[{"containerPort":9080,"protocol":"TCP"}]'
        PROV_CERT: var/run/secrets/istio/root-cert.pem
        PROXY_CONFIG:
          binaryPath: /usr/local/bin/envoy
          concurrency: 2
          configPath: ./etc/istio/proxy
          controlPlaneAuthPolicy: MUTUAL_TLS
          discoveryAddress: istiod.istio-system.svc:15012
          drainDuration: 45s
          parentShutdownDuration: 60s
          proxyAdminPort: 15000
          serviceCluster: istio-proxy
          statNameLength: 189
          statusPort: 15020
          terminationDrainDuration: 5s
          tracing:
            zipkin:
              address: zipkin.istio-system:9411
        SERVICE_ACCOUNT: bookinfo-productpage
        WORKLOAD_NAME: productpage-v1
      user_agent_build_version:
        metadata:
          build.label: dev
          build.type: RELEASE
          revision.sha: ff44db02db5a99a7f06c31441c3a5a0f7ce9e2b4
          revision.status: Clean
          ssl.version: BoringSSL
        version:
          major_number: 1
          minor_number: 20
          patch: 1
      user_agent_name: envoy
    static_resources:
      clusters:
      - connect_timeout: 0.250s
        load_assignment:
          cluster_name: prometheus_stats
          endpoints:
          - lb_endpoints:
            - endpoint:
                address:
                  socket_address:
                    address: 127.0.0.1
                    port_value: 15000
        name: prometheus_stats
        type: STATIC
      - connect_timeout: 0.250s
        load_assignment:
          cluster_name: agent
          endpoints:
          - lb_endpoints:
            - endpoint:
                address:
                  socket_address:
                    address: 127.0.0.1
                    port_value: 15020
        name: agent
        type: STATIC
      - connect_timeout: 1s
        load_assignment:
          cluster_name: sds-grpc
          endpoints:
          - lb_endpoints:
            - endpoint:
                address:
                  pipe:
                    path: ./etc/istio/proxy/SDS
        name: sds-grpc
        type: STATIC
        typed_extension_protocol_options:
          envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
            '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
            explicit_http_config:
              http2_protocol_options: {}
      - circuit_breakers:
          thresholds:
          - max_connections: 100000
            max_pending_requests: 100000
            max_requests: 100000
          - max_connections: 100000
            max_pending_requests: 100000
            max_requests: 100000
            priority: HIGH
        connect_timeout: 1s
        load_assignment:
          cluster_name: xds-grpc
          endpoints:
          - lb_endpoints:
            - endpoint:
                address:
                  pipe:
                    path: ./etc/istio/proxy/XDS
        max_requests_per_connection: 1
        name: xds-grpc
        type: STATIC
        typed_extension_protocol_options:
          envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
            '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
            explicit_http_config:
              http2_protocol_options: {}
        upstream_connection_options:
          tcp_keepalive:
            keepalive_time: 300
      - connect_timeout: 1s
        dns_lookup_family: V4_ONLY
        dns_refresh_rate: 30s
        load_assignment:
          cluster_name: zipkin
          endpoints:
          - lb_endpoints:
            - endpoint:
                address:
                  socket_address:
                    address: zipkin.istio-system
                    port_value: 9411
        name: zipkin
        respect_dns_ttl: true
        type: STRICT_DNS
      listeners:
      - address:
          socket_address:
            address: 0.0.0.0
            port_value: 15090
        filter_chains:
        - filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              http_filters:
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              route_config:
                virtual_hosts:
                - domains:
                  - '*'
                  name: backend
                  routes:
                  - match:
                      prefix: /stats/prometheus
                    route:
                      cluster: prometheus_stats
              stat_prefix: stats
      - address:
          socket_address:
            address: 0.0.0.0
            port_value: 15021
        filter_chains:
        - filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              http_filters:
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              route_config:
                virtual_hosts:
                - domains:
                  - '*'
                  name: backend
                  routes:
                  - match:
                      prefix: /healthz/ready
                    route:
                      cluster: agent
              stat_prefix: agent
    stats_config:
      stats_matcher:
        inclusion_list:
          patterns:
          - prefix: reporter=
          - prefix: cluster_manager
          - prefix: listener_manager
          - prefix: server
          - prefix: cluster.xds-grpc
          - prefix: wasm
          - suffix: rbac.allowed
          - suffix: rbac.denied
          - suffix: shadow_allowed
          - suffix: shadow_denied
          - prefix: component
      stats_tags:
      - regex: ^cluster\.((.+?(\..+?\.svc\.cluster\.local)?)\.)
        tag_name: cluster_name
      - regex: ^tcp\.((.*?)\.)\w+?$
        tag_name: tcp_prefix
      - regex: (response_code=\.=(.+?);\.;)|_rq(_(\.d{3}))$
        tag_name: response_code
      - regex: _rq(_(\dxx))$
        tag_name: response_code_class
      - regex: ^listener(?=\.).*?\.http\.(((?:[_.[:digit:]]*|[_\[\]aAbBcCdDeEfF[:digit:]]*))\.)
        tag_name: http_conn_manager_listener_prefix
      - regex: ^http\.(((?:[_.[:digit:]]*|[_\[\]aAbBcCdDeEfF[:digit:]]*))\.)
        tag_name: http_conn_manager_prefix
      - regex: ^listener\.(((?:[_.[:digit:]]*|[_\[\]aAbBcCdDeEfF[:digit:]]*))\.)
        tag_name: listener_address
      - regex: ^mongo\.(.+?)\.(collection|cmd|cx_|op_|delays_|decoding_)(.*?)$
        tag_name: mongo_prefix
      - regex: (reporter=\.=(.*?);\.;)
        tag_name: reporter
      - regex: (source_namespace=\.=(.*?);\.;)
        tag_name: source_namespace
      - regex: (source_workload=\.=(.*?);\.;)
        tag_name: source_workload
      - regex: (source_workload_namespace=\.=(.*?);\.;)
        tag_name: source_workload_namespace
      - regex: (source_principal=\.=(.*?);\.;)
        tag_name: source_principal
      - regex: (source_app=\.=(.*?);\.;)
        tag_name: source_app
      - regex: (source_version=\.=(.*?);\.;)
        tag_name: source_version
      - regex: (source_cluster=\.=(.*?);\.;)
        tag_name: source_cluster
      - regex: (destination_namespace=\.=(.*?);\.;)
        tag_name: destination_namespace
      - regex: (destination_workload=\.=(.*?);\.;)
        tag_name: destination_workload
      - regex: (destination_workload_namespace=\.=(.*?);\.;)
        tag_name: destination_workload_namespace
      - regex: (destination_principal=\.=(.*?);\.;)
        tag_name: destination_principal
      - regex: (destination_app=\.=(.*?);\.;)
        tag_name: destination_app
      - regex: (destination_version=\.=(.*?);\.;)
        tag_name: destination_version
      - regex: (destination_service=\.=(.*?);\.;)
        tag_name: destination_service
      - regex: (destination_service_name=\.=(.*?);\.;)
        tag_name: destination_service_name
      - regex: (destination_service_namespace=\.=(.*?);\.;)
        tag_name: destination_service_namespace
      - regex: (destination_port=\.=(.*?);\.;)
        tag_name: destination_port
      - regex: (destination_cluster=\.=(.*?);\.;)
        tag_name: destination_cluster
      - regex: (request_protocol=\.=(.*?);\.;)
        tag_name: request_protocol
      - regex: (request_operation=\.=(.*?);\.;)
        tag_name: request_operation
      - regex: (request_host=\.=(.*?);\.;)
        tag_name: request_host
      - regex: (response_flags=\.=(.*?);\.;)
        tag_name: response_flags
      - regex: (grpc_response_status=\.=(.*?);\.;)
        tag_name: grpc_response_status
      - regex: (connection_security_policy=\.=(.*?);\.;)
        tag_name: connection_security_policy
      - regex: (source_canonical_service=\.=(.*?);\.;)
        tag_name: source_canonical_service
      - regex: (destination_canonical_service=\.=(.*?);\.;)
        tag_name: destination_canonical_service
      - regex: (source_canonical_revision=\.=(.*?);\.;)
        tag_name: source_canonical_revision
      - regex: (destination_canonical_revision=\.=(.*?);\.;)
        tag_name: destination_canonical_revision
      - regex: (cache\.(.+?)\.)
        tag_name: cache
      - regex: (component\.(.+?)\.)
        tag_name: component
      - regex: (tag\.(.+?);\.)
        tag_name: tag
      - regex: (wasm_filter\.(.+?)\.)
        tag_name: wasm_filter
      - regex: rbac(\.(allowed|denied))
        tag_name: authz_enforce_result
      - regex: (\.istio_dry_run_(allow|deny)_)
        tag_name: authz_dry_run_action
      - regex: (\.shadow_(allowed|denied))
        tag_name: authz_dry_run_result
      use_all_default_tags: false
    tracing:
      http:
        name: envoy.tracers.zipkin
        typed_config:
          '@type': type.googleapis.com/envoy.config.trace.v3.ZipkinConfig
          collector_cluster: zipkin
          collector_endpoint: /api/v2/spans
          collector_endpoint_version: HTTP_JSON
          shared_span_context: false
          trace_id_128bit: true
  last_updated: "2021-11-17T12:24:21.296Z"
- '@type': type.googleapis.com/envoy.admin.v3.ClustersConfigDump
  dynamic_active_clusters:
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      connect_timeout: 10s
      name: BlackHoleCluster
      type: STATIC
    last_updated: "2021-11-17T12:24:21.623Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      connect_timeout: 10s
      lb_policy: CLUSTER_PROVIDED
      name: InboundPassthroughClusterIpv4
      type: ORIGINAL_DST
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          use_downstream_protocol_config:
            http_protocol_options: {}
            http2_protocol_options:
              max_concurrent_streams: 1073741824
      upstream_bind_config:
        source_address:
          address: 127.0.0.6
          port_value: 0
    last_updated: "2021-11-17T12:24:21.624Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      connect_timeout: 10s
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      lb_policy: CLUSTER_PROVIDED
      name: PassthroughCluster
      type: ORIGINAL_DST
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          use_downstream_protocol_config:
            http_protocol_options: {}
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:24:21.624Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      cleanup_interval: 60s
      connect_timeout: 10s
      lb_policy: CLUSTER_PROVIDED
      metadata:
        filter_metadata:
          istio:
            services:
            - host: productpage.default.svc.cluster.local
              name: productpage
              namespace: default
      name: inbound|9080||
      type: ORIGINAL_DST
      upstream_bind_config:
        source_address:
          address: 127.0.0.6
          port_value: 0
    last_updated: "2021-11-17T12:24:21.624Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|15010||istiod.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 15010
            services:
            - host: istiod.istio-system.svc.cluster.local
              name: istiod
              namespace: istio-system
      name: outbound|15010||istiod.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              - h2
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istiod
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.15010_._.istiod.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          explicit_http_config:
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:24:21.523Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|15012||istiod.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 15012
            services:
            - host: istiod.istio-system.svc.cluster.local
              name: istiod
              namespace: istio-system
      name: outbound|15012||istiod.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istiod
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.15012_._.istiod.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.525Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|15014||istiod.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 15014
            services:
            - host: istiod.istio-system.svc.cluster.local
              name: istiod
              namespace: istio-system
      name: outbound|15014||istiod.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istiod
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.15014_._.istiod.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.606Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 15021
            services:
            - host: istio-ingressgateway.istio-system.svc.cluster.local
              name: istio-ingressgateway
              namespace: istio-system
      name: outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.15021_._.istio-ingressgateway.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          use_downstream_protocol_config:
            http_protocol_options: {}
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:24:21.614Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|15443||istio-ingressgateway.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 15443
            services:
            - host: istio-ingressgateway.istio-system.svc.cluster.local
              name: istio-ingressgateway
              namespace: istio-system
      name: outbound|15443||istio-ingressgateway.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.15443_._.istio-ingressgateway.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.623Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|31400||istio-ingressgateway.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 31400
            services:
            - host: istio-ingressgateway.istio-system.svc.cluster.local
              name: istio-ingressgateway
              namespace: istio-system
      name: outbound|31400||istio-ingressgateway.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.31400_._.istio-ingressgateway.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.623Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|443||istio-egressgateway.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 443
            services:
            - host: istio-egressgateway.istio-system.svc.cluster.local
              name: istio-egressgateway
              namespace: istio-system
      name: outbound|443||istio-egressgateway.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istio-egressgateway-service-account
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.443_._.istio-egressgateway.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.614Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|443||istio-ingressgateway.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 443
            services:
            - host: istio-ingressgateway.istio-system.svc.cluster.local
              name: istio-ingressgateway
              namespace: istio-system
      name: outbound|443||istio-ingressgateway.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.443_._.istio-ingressgateway.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.622Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|443||istiod.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 443
            services:
            - host: istiod.istio-system.svc.cluster.local
              name: istiod
              namespace: istio-system
      name: outbound|443||istiod.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istiod
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.443_._.istiod.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.525Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|443||kubernetes.default.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 443
            services:
            - host: kubernetes.default.svc.cluster.local
              name: kubernetes
              namespace: default
      name: outbound|443||kubernetes.default.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context: {}
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.443_._.kubernetes.default.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.510Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|53||kube-dns.kube-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 53
            services:
            - host: kube-dns.kube-system.svc.cluster.local
              name: kube-dns
              namespace: kube-system
      name: outbound|53||kube-dns.kube-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/kube-system/sa/coredns
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.53_._.kube-dns.kube-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:24:21.520Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|8080||fortio.default.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 8080
            services:
            - host: fortio.default.svc.cluster.local
              name: fortio
              namespace: default
      name: outbound|8080||fortio.default.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/default/sa/default
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.8080_._.fortio.default.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:26:34.360Z"
    version_info: 2021-11-17T12:26:34Z/8
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|80||istio-egressgateway.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 80
            services:
            - host: istio-egressgateway.istio-system.svc.cluster.local
              name: istio-egressgateway
              namespace: istio-system
      name: outbound|80||istio-egressgateway.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              - h2
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istio-egressgateway-service-account
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.80_._.istio-egressgateway.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          explicit_http_config:
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:24:21.609Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|80||istio-ingressgateway.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 80
            services:
            - host: istio-ingressgateway.istio-system.svc.cluster.local
              name: istio-ingressgateway
              namespace: istio-system
      name: outbound|80||istio-ingressgateway.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              - h2
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.80_._.istio-ingressgateway.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          explicit_http_config:
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:24:21.616Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|9080||details.default.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 9080
            services:
            - host: details.default.svc.cluster.local
              name: details
              namespace: default
      name: outbound|9080||details.default.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/default/sa/bookinfo-details
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.9080_._.details.default.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:26:34.271Z"
    version_info: 2021-11-17T12:26:34Z/8
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|9080||productpage.default.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 9080
            services:
            - host: productpage.default.svc.cluster.local
              name: productpage
              namespace: default
      name: outbound|9080||productpage.default.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/default/sa/bookinfo-productpage
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.9080_._.productpage.default.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:26:34.288Z"
    version_info: 2021-11-17T12:26:34Z/8
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|9080||ratings.default.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 9080
            services:
            - host: ratings.default.svc.cluster.local
              name: ratings
              namespace: default
      name: outbound|9080||ratings.default.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/default/sa/bookinfo-ratings
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.9080_._.ratings.default.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:26:34.318Z"
    version_info: 2021-11-17T12:26:34Z/8
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|9080||reviews.default.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 9080
            services:
            - host: reviews.default.svc.cluster.local
              name: reviews
              namespace: default
      name: outbound|9080||reviews.default.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/default/sa/bookinfo-reviews
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.9080_._.reviews.default.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
    last_updated: "2021-11-17T12:26:34.328Z"
    version_info: 2021-11-17T12:26:34Z/8
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|9153||kube-dns.kube-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 9153
            services:
            - host: kube-dns.kube-system.svc.cluster.local
              name: kube-dns
              namespace: kube-system
      name: outbound|9153||kube-dns.kube-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/kube-system/sa/coredns
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.9153_._.kube-dns.kube-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          use_downstream_protocol_config:
            http_protocol_options: {}
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:24:21.521Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|9811||envoy-als-server.common.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 9811
            services:
            - host: envoy-als-server.common.svc.cluster.local
              name: envoy-als-server
              namespace: common
      name: outbound|9811||envoy-als-server.common.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/common/sa/default
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.9811_._.envoy-als-server.common.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          use_downstream_protocol_config:
            http_protocol_options: {}
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:38:36.980Z"
    version_info: 2021-11-17T12:38:36Z/13
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 4294967295
          max_pending_requests: 4294967295
          max_requests: 4294967295
          max_retries: 4294967295
          track_remaining: true
      common_lb_config:
        locality_weighted_lb_config: {}
      connect_timeout: 10s
      eds_cluster_config:
        eds_config:
          ads: {}
          initial_fetch_timeout: 0s
          resource_api_version: V3
        service_name: outbound|9811||envoy-als-server.istio-system.svc.cluster.local
      filters:
      - name: istio.metadata_exchange
        typed_config:
          '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
          protocol: istio-peer-exchange
      metadata:
        filter_metadata:
          istio:
            default_original_port: 9811
            services:
            - host: envoy-als-server.istio-system.svc.cluster.local
              name: envoy-als-server
              namespace: istio-system
      name: outbound|9811||envoy-als-server.istio-system.svc.cluster.local
      transport_socket_matches:
      - match:
          tlsMode: istio
        name: tlsMode-istio
        transport_socket:
          name: envoy.transport_sockets.tls
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
            common_tls_context:
              alpn_protocols:
              - istio-peer-exchange
              - istio
              combined_validation_context:
                default_validation_context:
                  match_subject_alt_names:
                  - exact: spiffe://cluster.local/ns/istio-system/sa/default
                validation_context_sds_secret_config:
                  name: ROOTCA
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
              tls_certificate_sds_secret_configs:
              - name: default
                sds_config:
                  api_config_source:
                    api_type: GRPC
                    grpc_services:
                    - envoy_grpc:
                        cluster_name: sds-grpc
                    set_node_on_first_message_only: true
                    transport_api_version: V3
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
            sni: outbound_.9811_._.envoy-als-server.istio-system.svc.cluster.local
      - match: {}
        name: tlsMode-disabled
        transport_socket:
          name: envoy.transport_sockets.raw_buffer
      type: EDS
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          use_downstream_protocol_config:
            http_protocol_options: {}
            http2_protocol_options:
              max_concurrent_streams: 1073741824
    last_updated: "2021-11-17T12:24:21.608Z"
    version_info: 2021-11-17T12:22:47Z/7
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      connect_timeout: 10s
      http2_protocol_options: {}
      load_assignment:
        cluster_name: productpage_envoy_accesslog
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  address: envoy-als-server.common.svc.cluster.local
                  port_value: 9811
      name: productpage_envoy_accesslog
      type: STRICT_DNS
    last_updated: "2021-11-17T12:57:37.347Z"
    version_info: 2021-11-17T12:57:37Z/17
  static_clusters:
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      connect_timeout: 0.250s
      load_assignment:
        cluster_name: agent
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  address: 127.0.0.1
                  port_value: 15020
      name: agent
      type: STATIC
    last_updated: "2021-11-17T12:24:21.314Z"
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      connect_timeout: 0.250s
      load_assignment:
        cluster_name: prometheus_stats
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  address: 127.0.0.1
                  port_value: 15000
      name: prometheus_stats
      type: STATIC
    last_updated: "2021-11-17T12:24:21.314Z"
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      connect_timeout: 1s
      load_assignment:
        cluster_name: sds-grpc
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                pipe:
                  path: ./etc/istio/proxy/SDS
      name: sds-grpc
      type: STATIC
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          explicit_http_config:
            http2_protocol_options: {}
    last_updated: "2021-11-17T12:24:21.314Z"
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      circuit_breakers:
        thresholds:
        - max_connections: 100000
          max_pending_requests: 100000
          max_requests: 100000
        - max_connections: 100000
          max_pending_requests: 100000
          max_requests: 100000
          priority: HIGH
      connect_timeout: 1s
      load_assignment:
        cluster_name: xds-grpc
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                pipe:
                  path: ./etc/istio/proxy/XDS
      max_requests_per_connection: 1
      name: xds-grpc
      type: STATIC
      typed_extension_protocol_options:
        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
          '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
          explicit_http_config:
            http2_protocol_options: {}
      upstream_connection_options:
        tcp_keepalive:
          keepalive_time: 300
    last_updated: "2021-11-17T12:24:21.377Z"
  - cluster:
      '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
      connect_timeout: 1s
      dns_lookup_family: V4_ONLY
      dns_refresh_rate: 30s
      load_assignment:
        cluster_name: zipkin
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  address: zipkin.istio-system
                  port_value: 9411
      name: zipkin
      respect_dns_ttl: true
      type: STRICT_DNS
    last_updated: "2021-11-17T12:24:21.377Z"
  version_info: 2021-11-17T12:57:37Z/17
- '@type': type.googleapis.com/envoy.admin.v3.ListenersConfigDump
  dynamic_listeners:
  - active_state:
      last_updated: "2021-11-17T12:24:22.422Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.96.0.10
            port_value: 53
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|53||kube-dns.kube-system.svc.cluster.local
              stat_prefix: outbound|53||kube-dns.kube-system.svc.cluster.local
        name: 10.96.0.10_53
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.96.0.10_53
  - active_state:
      last_updated: "2021-11-17T12:24:22.453Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.96.0.1
            port_value: 443
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|443||kubernetes.default.svc.cluster.local
              stat_prefix: outbound|443||kubernetes.default.svc.cluster.local
        name: 10.96.0.1_443
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.96.0.1_443
  - active_state:
      last_updated: "2021-11-17T12:24:22.458Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.109.37.82
            port_value: 443
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|443||istiod.istio-system.svc.cluster.local
              stat_prefix: outbound|443||istiod.istio-system.svc.cluster.local
        name: 10.109.37.82_443
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.109.37.82_443
  - active_state:
      last_updated: "2021-11-17T12:24:22.458Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.109.31.76
            port_value: 443
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|443||istio-ingressgateway.istio-system.svc.cluster.local
              stat_prefix: outbound|443||istio-ingressgateway.istio-system.svc.cluster.local
        name: 10.109.31.76_443
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.109.31.76_443
  - active_state:
      last_updated: "2021-11-17T12:24:22.459Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.109.31.76
            port_value: 31400
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|31400||istio-ingressgateway.istio-system.svc.cluster.local
              stat_prefix: outbound|31400||istio-ingressgateway.istio-system.svc.cluster.local
        name: 10.109.31.76_31400
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.109.31.76_31400
  - active_state:
      last_updated: "2021-11-17T12:24:22.477Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.109.31.76
            port_value: 15443
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|15443||istio-ingressgateway.istio-system.svc.cluster.local
              stat_prefix: outbound|15443||istio-ingressgateway.istio-system.svc.cluster.local
        name: 10.109.31.76_15443
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.109.31.76_15443
  - active_state:
      last_updated: "2021-11-17T12:24:22.479Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.109.37.82
            port_value: 15012
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|15012||istiod.istio-system.svc.cluster.local
              stat_prefix: outbound|15012||istiod.istio-system.svc.cluster.local
        name: 10.109.37.82_15012
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.109.37.82_15012
  - active_state:
      last_updated: "2021-11-17T12:24:22.489Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.101.54.123
            port_value: 443
        bind_to_port: false
        filter_chains:
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|443||istio-egressgateway.istio-system.svc.cluster.local
              stat_prefix: outbound|443||istio-egressgateway.istio-system.svc.cluster.local
        name: 10.101.54.123_443
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.101.54.123_443
  - active_state:
      last_updated: "2021-11-17T12:24:22.512Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 9080
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filter_chain_match: {}
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: PassthroughCluster
              stat_prefix: PassthroughCluster
          name: PassthroughFilterChain
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: "9080"
              stat_prefix: outbound_0.0.0.0_9080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 0.0.0.0_9080
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 0.0.0.0_9080
  - active_state:
      last_updated: "2021-11-17T12:24:22.524Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 15014
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filter_chain_match: {}
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: PassthroughCluster
              stat_prefix: PassthroughCluster
          name: PassthroughFilterChain
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: "15014"
              stat_prefix: outbound_0.0.0.0_15014
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 0.0.0.0_15014
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 0.0.0.0_15014
  - active_state:
      last_updated: "2021-11-17T12:24:22.537Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.109.31.76
            port_value: 15021
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local
              stat_prefix: outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: istio-ingressgateway.istio-system.svc.cluster.local:15021
              stat_prefix: outbound_10.109.31.76_15021
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 10.109.31.76_15021
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.109.31.76_15021
  - active_state:
      last_updated: "2021-11-17T12:24:22.543Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 8080
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filter_chain_match: {}
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: PassthroughCluster
              stat_prefix: PassthroughCluster
          name: PassthroughFilterChain
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: "8080"
              stat_prefix: outbound_0.0.0.0_8080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 0.0.0.0_8080
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 0.0.0.0_8080
  - active_state:
      last_updated: "2021-11-17T12:24:22.563Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 15010
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filter_chain_match: {}
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: PassthroughCluster
              stat_prefix: PassthroughCluster
          name: PassthroughFilterChain
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.grpc_stats
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.grpc_stats.v3.FilterConfig
                  emit_filter_state: true
                  stats_for_all_methods: false
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: "15010"
              stat_prefix: outbound_0.0.0.0_15010
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 0.0.0.0_15010
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 0.0.0.0_15010
  - active_state:
      last_updated: "2021-11-17T12:24:22.572Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.101.242.27
            port_value: 9811
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|9811||envoy-als-server.istio-system.svc.cluster.local
              stat_prefix: outbound|9811||envoy-als-server.istio-system.svc.cluster.local
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: envoy-als-server.istio-system.svc.cluster.local:9811
              stat_prefix: outbound_10.101.242.27_9811
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 10.101.242.27_9811
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.101.242.27_9811
  - active_state:
      last_updated: "2021-11-17T12:24:22.582Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 80
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filter_chain_match: {}
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: PassthroughCluster
              stat_prefix: PassthroughCluster
          name: PassthroughFilterChain
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: "80"
              stat_prefix: outbound_0.0.0.0_80
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 0.0.0.0_80
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 0.0.0.0_80
  - active_state:
      last_updated: "2021-11-17T12:24:22.600Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.96.0.10
            port_value: 9153
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|9153||kube-dns.kube-system.svc.cluster.local
              stat_prefix: outbound|9153||kube-dns.kube-system.svc.cluster.local
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: kube-dns.kube-system.svc.cluster.local:9153
              stat_prefix: outbound_10.96.0.10_9153
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 10.96.0.10_9153
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:22:47Z/7
    name: 10.96.0.10_9153
  - active_state:
      last_updated: "2021-11-17T12:24:22.608Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 15001
        filter_chains:
        - filter_chain_match:
            destination_port: 15001
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              cluster: BlackHoleCluster
              stat_prefix: BlackHoleCluster
          name: virtualOutbound-blackhole
        - filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: PassthroughCluster
              stat_prefix: PassthroughCluster
          name: virtualOutbound-catchall-tcp
        name: virtualOutbound
        traffic_direction: OUTBOUND
        use_original_dst: true
      version_info: 2021-11-17T12:22:47Z/7
    name: virtualOutbound
  - active_state:
      last_updated: "2021-11-17T12:24:22.670Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 15006
        continue_on_listener_filters_timeout: true
        filter_chains:
        - filter_chain_match:
            destination_port: 15006
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              cluster: BlackHoleCluster
              stat_prefix: BlackHoleCluster
          name: virtualInbound-blackhole
        - filter_chain_match:
            application_protocols:
            - istio-http/1.0
            - istio-http/1.1
            - istio-h2
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: InboundPassthroughClusterIpv4
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|0
                  routes:
                  - decorator:
                      operation: :0/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: InboundPassthroughClusterIpv4
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: InboundPassthroughClusterIpv4
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: virtualInbound-catchall-http
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: InboundPassthroughClusterIpv4
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|0
                  routes:
                  - decorator:
                      operation: :0/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: InboundPassthroughClusterIpv4
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: InboundPassthroughClusterIpv4
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: virtualInbound-catchall-http
        - filter_chain_match:
            application_protocols:
            - istio-peer-exchange
            - istio
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - istio-peer-exchange
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
        - filter_chain_match:
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
        - filter_chain_match:
            application_protocols:
            - istio
            - istio-peer-exchange
            - istio-http/1.0
            - istio-http/1.1
            - istio-h2
            destination_port: 9080
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: inbound|9080||
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|9080
                  routes:
                  - decorator:
                      operation: productpage.default.svc.cluster.local:9080/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: inbound|9080||
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: inbound_0.0.0.0_9080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: 0.0.0.0_9080
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            destination_port: 9080
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: inbound|9080||
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|9080
                  routes:
                  - decorator:
                      operation: productpage.default.svc.cluster.local:9080/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: inbound|9080||
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: inbound_0.0.0.0_9080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: 0.0.0.0_9080
        listener_filters:
        - name: envoy.filters.listener.original_dst
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.original_dst.v3.OriginalDst
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - filter_disabled:
            destination_port_range:
              end: 9081
              start: 9080
          name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: virtualInbound
        traffic_direction: INBOUND
      version_info: 2021-11-17T12:22:47Z/7
    error_state:
      details: gRPC client cluster 'productpage_envoy_accesslog' is not static
      failed_configuration:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 15006
        continue_on_listener_filters_timeout: true
        filter_chains:
        - filter_chain_match:
            destination_port: 15006
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              cluster: BlackHoleCluster
              stat_prefix: BlackHoleCluster
          name: virtualInbound-blackhole
        - filter_chain_match:
            application_protocols:
            - istio-http/1.0
            - istio-http/1.1
            - istio-h2
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: InboundPassthroughClusterIpv4
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|0
                  routes:
                  - decorator:
                      operation: :0/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: InboundPassthroughClusterIpv4
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: InboundPassthroughClusterIpv4
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: virtualInbound-catchall-http
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: InboundPassthroughClusterIpv4
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|0
                  routes:
                  - decorator:
                      operation: :0/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: InboundPassthroughClusterIpv4
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: InboundPassthroughClusterIpv4
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: virtualInbound-catchall-http
        - filter_chain_match:
            application_protocols:
            - istio-peer-exchange
            - istio
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - istio-peer-exchange
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
        - filter_chain_match:
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
        - filter_chain_match:
            application_protocols:
            - istio
            - istio-peer-exchange
            - istio-http/1.0
            - istio-http/1.1
            - istio-h2
            destination_port: 9080
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: inbound|9080||
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|9080
                  routes:
                  - decorator:
                      operation: productpage.default.svc.cluster.local:9080/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: inbound|9080||
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: inbound_0.0.0.0_9080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: 0.0.0.0_9080
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            destination_port: 9080
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: inbound|9080||
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|9080
                  routes:
                  - decorator:
                      operation: productpage.default.svc.cluster.local:9080/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: inbound|9080||
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: inbound_0.0.0.0_9080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: 0.0.0.0_9080
        listener_filters:
        - name: envoy.filters.listener.original_dst
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.original_dst.v3.OriginalDst
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - filter_disabled:
            destination_port_range:
              end: 9081
              start: 9080
          name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: virtualInbound
        traffic_direction: INBOUND
      last_update_attempt: "2021-11-17T13:05:30.702Z"
    name: virtualInbound
  - active_state:
      last_updated: "2021-11-17T12:27:17.365Z"
      listener:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 10.99.20.224
            port_value: 9811
        bind_to_port: false
        continue_on_listener_filters_timeout: true
        default_filter_chain:
          filters:
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio"
                      }
                  root_id: stats_outbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_outbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: outbound|9811||envoy-als-server.common.svc.cluster.local
              stat_prefix: outbound|9811||envoy-als-server.common.svc.cluster.local
        filter_chains:
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            transport_protocol: raw_buffer
          filters:
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: istio.alpn
                typed_config:
                  '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                  alpn_override:
                  - alpn_override:
                    - istio-http/1.0
                    - istio
                    - http/1.0
                  - alpn_override:
                    - istio-http/1.1
                    - istio
                    - http/1.1
                    upstream_protocol: HTTP11
                  - alpn_override:
                    - istio-h2
                    - istio
                    - h2
                    upstream_protocol: HTTP2
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio"
                          }
                      root_id: stats_outbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_outbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              rds:
                config_source:
                  ads: {}
                  initial_fetch_timeout: 0s
                  resource_api_version: V3
                route_config_name: envoy-als-server.common.svc.cluster.local:9811
              stat_prefix: outbound_10.99.20.224_9811
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
        listener_filters:
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: 10.99.20.224_9811
        traffic_direction: OUTBOUND
      version_info: 2021-11-17T12:27:17Z/10
    name: 10.99.20.224_9811
  - error_state:
      details: gRPC client cluster 'productpage_envoy_accesslog' is not static
      failed_configuration:
        '@type': type.googleapis.com/envoy.config.listener.v3.Listener
        access_log:
        - filter:
            response_flag_filter:
              flags:
              - NR
          name: envoy.access_loggers.file
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
            log_format:
              text_format_source:
                inline_string: |
                  [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
            path: /dev/stdout
        address:
          socket_address:
            address: 0.0.0.0
            port_value: 15006
        continue_on_listener_filters_timeout: true
        filter_chains:
        - filter_chain_match:
            destination_port: 15006
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              cluster: BlackHoleCluster
              stat_prefix: BlackHoleCluster
          name: virtualInbound-blackhole
        - filter_chain_match:
            application_protocols:
            - istio-http/1.0
            - istio-http/1.1
            - istio-h2
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: InboundPassthroughClusterIpv4
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|0
                  routes:
                  - decorator:
                      operation: :0/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: InboundPassthroughClusterIpv4
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: InboundPassthroughClusterIpv4
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: virtualInbound-catchall-http
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            application_protocols:
            - http/1.0
            - http/1.1
            - h2c
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: InboundPassthroughClusterIpv4
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|0
                  routes:
                  - decorator:
                      operation: :0/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: InboundPassthroughClusterIpv4
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: InboundPassthroughClusterIpv4
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: virtualInbound-catchall-http
        - filter_chain_match:
            application_protocols:
            - istio-peer-exchange
            - istio
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - istio-peer-exchange
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
        - filter_chain_match:
            prefix_ranges:
            - address_prefix: 0.0.0.0
              prefix_len: 0
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: istio.stats
            typed_config:
              '@type': type.googleapis.com/udpa.type.v1.TypedStruct
              type_url: type.googleapis.com/envoy.extensions.filters.network.wasm.v3.Wasm
              value:
                config:
                  configuration:
                    '@type': type.googleapis.com/google.protobuf.StringValue
                    value: |
                      {
                        "debug": "false",
                        "stat_prefix": "istio",
                        "metrics": [
                          {
                            "dimensions": {
                              "destination_cluster": "node.metadata['CLUSTER_ID']",
                              "source_cluster": "downstream_peer.cluster_id"
                            }
                          }
                        ]
                      }
                  root_id: stats_inbound
                  vm_config:
                    code:
                      local:
                        inline_string: envoy.wasm.stats
                    runtime: envoy.wasm.runtime.null
                    vm_id: tcp_stats_inbound
          - name: envoy.filters.network.tcp_proxy
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              cluster: InboundPassthroughClusterIpv4
              stat_prefix: InboundPassthroughClusterIpv4
          name: virtualInbound
        - filter_chain_match:
            application_protocols:
            - istio
            - istio-peer-exchange
            - istio-http/1.0
            - istio-http/1.1
            - istio-h2
            destination_port: 9080
            transport_protocol: tls
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: inbound|9080||
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|9080
                  routes:
                  - decorator:
                      operation: productpage.default.svc.cluster.local:9080/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: inbound|9080||
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: inbound_0.0.0.0_9080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: 0.0.0.0_9080
          transport_socket:
            name: envoy.transport_sockets.tls
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
              common_tls_context:
                alpn_protocols:
                - h2
                - http/1.1
                combined_validation_context:
                  default_validation_context:
                    match_subject_alt_names:
                    - prefix: spiffe://cluster.local/
                  validation_context_sds_secret_config:
                    name: ROOTCA
                    sds_config:
                      api_config_source:
                        api_type: GRPC
                        grpc_services:
                        - envoy_grpc:
                            cluster_name: sds-grpc
                        set_node_on_first_message_only: true
                        transport_api_version: V3
                      initial_fetch_timeout: 0s
                      resource_api_version: V3
                tls_certificate_sds_secret_configs:
                - name: default
                  sds_config:
                    api_config_source:
                      api_type: GRPC
                      grpc_services:
                      - envoy_grpc:
                          cluster_name: sds-grpc
                      set_node_on_first_message_only: true
                      transport_api_version: V3
                    initial_fetch_timeout: 0s
                    resource_api_version: V3
                tls_params:
                  cipher_suites:
                  - ECDHE-ECDSA-AES256-GCM-SHA384
                  - ECDHE-RSA-AES256-GCM-SHA384
                  - ECDHE-ECDSA-AES128-GCM-SHA256
                  - ECDHE-RSA-AES128-GCM-SHA256
                  - AES256-GCM-SHA384
                  - AES128-GCM-SHA256
                  tls_minimum_protocol_version: TLSv1_2
              require_client_certificate: true
        - filter_chain_match:
            destination_port: 9080
            transport_protocol: raw_buffer
          filters:
          - name: istio.metadata_exchange
            typed_config:
              '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
              protocol: istio-peer-exchange
          - name: envoy.filters.network.http_connection_manager
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
              access_log:
              - name: envoy.access_loggers.file
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
                  log_format:
                    text_format_source:
                      inline_string: |
                        [%START_TIME%] "%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%" %RESPONSE_CODE% %RESPONSE_FLAGS% %RESPONSE_CODE_DETAILS% %CONNECTION_TERMINATION_DETAILS% "%UPSTREAM_TRANSPORT_FAILURE_REASON%" %BYTES_RECEIVED% %BYTES_SENT% %DURATION% %RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)% "%REQ(X-FORWARDED-FOR)%" "%REQ(USER-AGENT)%" "%REQ(X-REQUEST-ID)%" "%REQ(:AUTHORITY)%" "%UPSTREAM_HOST%" %UPSTREAM_CLUSTER% %UPSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_LOCAL_ADDRESS% %DOWNSTREAM_REMOTE_ADDRESS% %REQUESTED_SERVER_NAME% %ROUTE_NAME%
                  path: /dev/stdout
              - name: envoy.access_loggers.http_grpc
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.access_loggers.grpc.v3.HttpGrpcAccessLogConfig
                  additional_request_headers_to_log:
                  - x-request-user
                  common_config:
                    filter_state_objects_to_log:
                    - wasm.upstream_peer
                    - wasm.upstream_peer_id
                    - wasm.downstream_peer
                    - wasm.downstream_peer_id
                    grpc_service:
                      envoy_grpc:
                        cluster_name: productpage_envoy_accesslog
                    log_name: productpage_envoy_accesslog
              forward_client_cert_details: APPEND_FORWARD
              http_filters:
              - name: istio.metadata_exchange
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  config:
                    configuration:
                      '@type': type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange
                    vm_config:
                      code:
                        local:
                          inline_string: envoy.wasm.metadata_exchange
                      runtime: envoy.wasm.runtime.null
              - name: envoy.filters.http.cors
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors
              - name: envoy.filters.http.fault
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault
              - name: istio.stats
                typed_config:
                  '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                  type_url: type.googleapis.com/envoy.extensions.filters.http.wasm.v3.Wasm
                  value:
                    config:
                      configuration:
                        '@type': type.googleapis.com/google.protobuf.StringValue
                        value: |
                          {
                            "debug": "false",
                            "stat_prefix": "istio",
                            "disable_host_header_fallback": true,
                            "metrics": [
                              {
                                "dimensions": {
                                  "destination_cluster": "node.metadata['CLUSTER_ID']",
                                  "source_cluster": "downstream_peer.cluster_id"
                                }
                              }
                            ]
                          }
                      root_id: stats_inbound
                      vm_config:
                        code:
                          local:
                            inline_string: envoy.wasm.stats
                        runtime: envoy.wasm.runtime.null
                        vm_id: stats_inbound
              - name: envoy.filters.http.router
                typed_config:
                  '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              normalize_path: true
              path_with_escaped_slashes_action: KEEP_UNCHANGED
              route_config:
                name: inbound|9080||
                validate_clusters: false
                virtual_hosts:
                - domains:
                  - '*'
                  name: inbound|http|9080
                  routes:
                  - decorator:
                      operation: productpage.default.svc.cluster.local:9080/*
                    match:
                      prefix: /
                    name: default
                    route:
                      cluster: inbound|9080||
                      max_stream_duration:
                        grpc_timeout_header_max: 0s
                        max_stream_duration: 0s
                      timeout: 0s
              server_name: istio-envoy
              set_current_client_cert_details:
                dns: true
                subject: true
                uri: true
              stat_prefix: inbound_0.0.0.0_9080
              stream_idle_timeout: 0s
              tracing:
                client_sampling:
                  value: 100
                custom_tags:
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.allow_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_allow_shadow_engine_result
                  tag: istio.authorization.dry_run.allow_policy.result
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_effective_policy_id
                  tag: istio.authorization.dry_run.deny_policy.name
                - metadata:
                    kind:
                      request: {}
                    metadata_key:
                      key: envoy.filters.http.rbac
                      path:
                      - key: istio_dry_run_deny_shadow_engine_result
                  tag: istio.authorization.dry_run.deny_policy.result
                - literal:
                    value: v1
                  tag: istio.canonical_revision
                - literal:
                    value: productpage
                  tag: istio.canonical_service
                - literal:
                    value: cluster.local
                  tag: istio.mesh_id
                - literal:
                    value: default
                  tag: istio.namespace
                overall_sampling:
                  value: 100
                random_sampling:
                  value: 100
              upgrade_configs:
              - upgrade_type: websocket
              use_remote_address: false
          name: 0.0.0.0_9080
        listener_filters:
        - name: envoy.filters.listener.original_dst
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.original_dst.v3.OriginalDst
        - name: envoy.filters.listener.tls_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.tls_inspector.v3.TlsInspector
        - filter_disabled:
            destination_port_range:
              end: 9081
              start: 9080
          name: envoy.filters.listener.http_inspector
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.listener.http_inspector.v3.HttpInspector
        listener_filters_timeout: 0s
        name: virtualInbound
        traffic_direction: INBOUND
  static_listeners:
  - last_updated: "2021-11-17T12:24:21.403Z"
    listener:
      '@type': type.googleapis.com/envoy.config.listener.v3.Listener
      address:
        socket_address:
          address: 0.0.0.0
          port_value: 15090
      filter_chains:
      - filters:
        - name: envoy.filters.network.http_connection_manager
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
            http_filters:
            - name: envoy.filters.http.router
              typed_config:
                '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
            route_config:
              virtual_hosts:
              - domains:
                - '*'
                name: backend
                routes:
                - match:
                    prefix: /stats/prometheus
                  route:
                    cluster: prometheus_stats
            stat_prefix: stats
  - last_updated: "2021-11-17T12:24:21.406Z"
    listener:
      '@type': type.googleapis.com/envoy.config.listener.v3.Listener
      address:
        socket_address:
          address: 0.0.0.0
          port_value: 15021
      filter_chains:
      - filters:
        - name: envoy.filters.network.http_connection_manager
          typed_config:
            '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
            http_filters:
            - name: envoy.filters.http.router
              typed_config:
                '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
            route_config:
              virtual_hosts:
              - domains:
                - '*'
                name: backend
                routes:
                - match:
                    prefix: /healthz/ready
                  route:
                    cluster: agent
            stat_prefix: agent
  version_info: 2021-11-17T12:27:17Z/10
- '@type': type.googleapis.com/envoy.admin.v3.ScopedRoutesConfigDump
- '@type': type.googleapis.com/envoy.admin.v3.RoutesConfigDump
  dynamic_route_configs:
  - last_updated: "2021-11-17T12:24:22.693Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: "80"
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: allow_any
        routes:
        - match:
            prefix: /
          name: allow_any
          route:
            cluster: PassthroughCluster
            max_grpc_timeout: 0s
            timeout: 0s
      - domains:
        - istio-egressgateway.istio-system.svc.cluster.local
        - istio-egressgateway.istio-system.svc.cluster.local:80
        - istio-egressgateway.istio-system
        - istio-egressgateway.istio-system:80
        - istio-egressgateway.istio-system.svc
        - istio-egressgateway.istio-system.svc:80
        - 10.101.54.123
        - 10.101.54.123:80
        include_request_attempt_count: true
        name: istio-egressgateway.istio-system.svc.cluster.local:80
        routes:
        - decorator:
            operation: istio-egressgateway.istio-system.svc.cluster.local:80/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|80||istio-egressgateway.istio-system.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
      - domains:
        - istio-ingressgateway.istio-system.svc.cluster.local
        - istio-ingressgateway.istio-system.svc.cluster.local:80
        - istio-ingressgateway.istio-system
        - istio-ingressgateway.istio-system:80
        - istio-ingressgateway.istio-system.svc
        - istio-ingressgateway.istio-system.svc:80
        - 10.109.31.76
        - 10.109.31.76:80
        include_request_attempt_count: true
        name: istio-ingressgateway.istio-system.svc.cluster.local:80
        routes:
        - decorator:
            operation: istio-ingressgateway.istio-system.svc.cluster.local:80/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|80||istio-ingressgateway.istio-system.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  - last_updated: "2021-11-17T12:24:22.694Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: "15014"
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: allow_any
        routes:
        - match:
            prefix: /
          name: allow_any
          route:
            cluster: PassthroughCluster
            max_grpc_timeout: 0s
            timeout: 0s
      - domains:
        - istiod.istio-system.svc.cluster.local
        - istiod.istio-system.svc.cluster.local:15014
        - istiod.istio-system
        - istiod.istio-system:15014
        - istiod.istio-system.svc
        - istiod.istio-system.svc:15014
        - 10.109.37.82
        - 10.109.37.82:15014
        include_request_attempt_count: true
        name: istiod.istio-system.svc.cluster.local:15014
        routes:
        - decorator:
            operation: istiod.istio-system.svc.cluster.local:15014/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|15014||istiod.istio-system.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  - last_updated: "2021-11-17T12:27:17.384Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: envoy-als-server.common.svc.cluster.local:9811
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: envoy-als-server.common.svc.cluster.local:9811
        routes:
        - decorator:
            operation: envoy-als-server.common.svc.cluster.local:9811/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|9811||envoy-als-server.common.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:27:17Z/10
  - last_updated: "2021-11-17T12:24:22.694Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: "8080"
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: allow_any
        routes:
        - match:
            prefix: /
          name: allow_any
          route:
            cluster: PassthroughCluster
            max_grpc_timeout: 0s
            timeout: 0s
      - domains:
        - fortio.default.svc.cluster.local
        - fortio.default.svc.cluster.local:8080
        - fortio
        - fortio:8080
        - fortio.default.svc
        - fortio.default.svc:8080
        - fortio.default
        - fortio.default:8080
        - 10.110.65.216
        - 10.110.65.216:8080
        include_request_attempt_count: true
        name: fortio.default.svc.cluster.local:8080
        routes:
        - decorator:
            operation: fortio.default.svc.cluster.local:8080/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|8080||fortio.default.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  - last_updated: "2021-11-17T12:24:22.693Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: kube-dns.kube-system.svc.cluster.local:9153
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: kube-dns.kube-system.svc.cluster.local:9153
        routes:
        - decorator:
            operation: kube-dns.kube-system.svc.cluster.local:9153/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|9153||kube-dns.kube-system.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  - last_updated: "2021-11-17T12:24:22.694Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: istio-ingressgateway.istio-system.svc.cluster.local:15021
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: istio-ingressgateway.istio-system.svc.cluster.local:15021
        routes:
        - decorator:
            operation: istio-ingressgateway.istio-system.svc.cluster.local:15021/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  - last_updated: "2021-11-17T12:24:22.695Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: "9080"
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: allow_any
        routes:
        - match:
            prefix: /
          name: allow_any
          route:
            cluster: PassthroughCluster
            max_grpc_timeout: 0s
            timeout: 0s
      - domains:
        - details.default.svc.cluster.local
        - details.default.svc.cluster.local:9080
        - details
        - details:9080
        - details.default.svc
        - details.default.svc:9080
        - details.default
        - details.default:9080
        - 10.96.0.219
        - 10.96.0.219:9080
        include_request_attempt_count: true
        name: details.default.svc.cluster.local:9080
        routes:
        - decorator:
            operation: details.default.svc.cluster.local:9080/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|9080||details.default.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
      - domains:
        - productpage.default.svc.cluster.local
        - productpage.default.svc.cluster.local:9080
        - productpage
        - productpage:9080
        - productpage.default.svc
        - productpage.default.svc:9080
        - productpage.default
        - productpage.default:9080
        - 10.104.218.144
        - 10.104.218.144:9080
        include_request_attempt_count: true
        name: productpage.default.svc.cluster.local:9080
        routes:
        - decorator:
            operation: productpage.default.svc.cluster.local:9080/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|9080||productpage.default.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
      - domains:
        - ratings.default.svc.cluster.local
        - ratings.default.svc.cluster.local:9080
        - ratings
        - ratings:9080
        - ratings.default.svc
        - ratings.default.svc:9080
        - ratings.default
        - ratings.default:9080
        - 10.97.90.10
        - 10.97.90.10:9080
        include_request_attempt_count: true
        name: ratings.default.svc.cluster.local:9080
        routes:
        - decorator:
            operation: ratings.default.svc.cluster.local:9080/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|9080||ratings.default.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
      - domains:
        - reviews.default.svc.cluster.local
        - reviews.default.svc.cluster.local:9080
        - reviews
        - reviews:9080
        - reviews.default.svc
        - reviews.default.svc:9080
        - reviews.default
        - reviews.default:9080
        - 10.101.162.75
        - 10.101.162.75:9080
        include_request_attempt_count: true
        name: reviews.default.svc.cluster.local:9080
        routes:
        - decorator:
            operation: reviews.default.svc.cluster.local:9080/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|9080||reviews.default.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  - last_updated: "2021-11-17T12:24:22.694Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: "15010"
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: allow_any
        routes:
        - match:
            prefix: /
          name: allow_any
          route:
            cluster: PassthroughCluster
            max_grpc_timeout: 0s
            timeout: 0s
      - domains:
        - istiod.istio-system.svc.cluster.local
        - istiod.istio-system.svc.cluster.local:15010
        - istiod.istio-system
        - istiod.istio-system:15010
        - istiod.istio-system.svc
        - istiod.istio-system.svc:15010
        - 10.109.37.82
        - 10.109.37.82:15010
        include_request_attempt_count: true
        name: istiod.istio-system.svc.cluster.local:15010
        routes:
        - decorator:
            operation: istiod.istio-system.svc.cluster.local:15010/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|15010||istiod.istio-system.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  - last_updated: "2021-11-17T12:24:22.693Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: envoy-als-server.istio-system.svc.cluster.local:9811
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        include_request_attempt_count: true
        name: envoy-als-server.istio-system.svc.cluster.local:9811
        routes:
        - decorator:
            operation: envoy-als-server.istio-system.svc.cluster.local:9811/*
          match:
            prefix: /
          name: default
          route:
            cluster: outbound|9811||envoy-als-server.istio-system.svc.cluster.local
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            retry_policy:
              host_selection_retry_max_attempts: "5"
              num_retries: 2
              retriable_status_codes:
              - 503
              retry_host_predicate:
              - name: envoy.retry_host_predicates.previous_hosts
              retry_on: connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes
            timeout: 0s
    version_info: 2021-11-17T12:22:47Z/7
  static_route_configs:
  - last_updated: "2021-11-17T12:24:21.405Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      virtual_hosts:
      - domains:
        - '*'
        name: backend
        routes:
        - match:
            prefix: /healthz/ready
          route:
            cluster: agent
  - last_updated: "2021-11-17T12:24:22.645Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: InboundPassthroughClusterIpv4
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        name: inbound|http|0
        routes:
        - decorator:
            operation: :0/*
          match:
            prefix: /
          name: default
          route:
            cluster: InboundPassthroughClusterIpv4
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            timeout: 0s
  - last_updated: "2021-11-17T12:24:22.664Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: inbound|9080||
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        name: inbound|http|9080
        routes:
        - decorator:
            operation: productpage.default.svc.cluster.local:9080/*
          match:
            prefix: /
          name: default
          route:
            cluster: inbound|9080||
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            timeout: 0s
  - last_updated: "2021-11-17T12:24:22.667Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: inbound|9080||
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        name: inbound|http|9080
        routes:
        - decorator:
            operation: productpage.default.svc.cluster.local:9080/*
          match:
            prefix: /
          name: default
          route:
            cluster: inbound|9080||
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            timeout: 0s
  - last_updated: "2021-11-17T12:24:22.628Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      name: InboundPassthroughClusterIpv4
      validate_clusters: false
      virtual_hosts:
      - domains:
        - '*'
        name: inbound|http|0
        routes:
        - decorator:
            operation: :0/*
          match:
            prefix: /
          name: default
          route:
            cluster: InboundPassthroughClusterIpv4
            max_stream_duration:
              grpc_timeout_header_max: 0s
              max_stream_duration: 0s
            timeout: 0s
  - last_updated: "2021-11-17T12:24:21.401Z"
    route_config:
      '@type': type.googleapis.com/envoy.config.route.v3.RouteConfiguration
      virtual_hosts:
      - domains:
        - '*'
        name: backend
        routes:
        - match:
            prefix: /stats/prometheus
          route:
            cluster: prometheus_stats
- '@type': type.googleapis.com/envoy.admin.v3.SecretsConfigDump
  dynamic_active_secrets:
  - last_updated: "2021-11-17T12:24:22.178Z"
    name: default
    secret:
      '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.Secret
      name: default
      tls_certificate:
        certificate_chain:
          inline_bytes: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURUVENDQWpXZ0F3SUJBZ0lRZEN1MG1FVmUyaER1YUVuaVg2TWJRekFOQmdrcWhraUc5dzBCQVFzRkFEQVkKTVJZd0ZBWURWUVFLRXcxamJIVnpkR1Z5TG14dlkyRnNNQjRYRFRJeE1URXhOekV5TWpJeU1sb1hEVEl4TVRFeApPREV5TWpReU1sb3dBRENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFQa1pBMkpFCjRMOXZ0ekpXUit0QVFJN004bVFUQnorMkptNi94aCtEd1pmZmRRbmxoNHVEdTlYck0yN2ZwQlV5VFhueUMyUmYKbnhyMTdrWlY2My9Pb2pDbXFybHFzcWpRWDVIeXFXL2UwaUY5b0RwSC9LSGZaT3c2V256OXN2dkdVTkhocUI5bwpKRkNzMmRsTml1eHJPcVArM0xXVG9PK3hYdU9aUWhlRnk1WjZUSFloV2YrVXhFU2xiUGMxOWhyNFVjZDBlTmZwCkNYK1N4dlRvSkR0QnpiWmVGcXF2em92UFA5bzVRRWNIMmxKNklXNzg5Vk5mMElrK3ZpeFF4SWxBTmJHU1BLSTcKVTN3VVdkUVFXL0gzQ1FHTE9TbzhQSUV1SWJkOS9DakFMZE9GdVhTaXBjUGdrbVlTUFNiemVOVDhITVlaQWw4LwpFL1ZhVVdLWlZqRlFxYWNDQXdFQUFhT0JxakNCcHpBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGxCQll3CkZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVUKamFqTXA1WWZ3ZEhta2p3QmRMbDdseXozcFU0d1J3WURWUjBSQVFIL0JEMHdPNFk1YzNCcFptWmxPaTh2WTJ4MQpjM1JsY2k1c2IyTmhiQzl1Y3k5a1pXWmhkV3gwTDNOaEwySnZiMnRwYm1adkxYQnliMlIxWTNSd1lXZGxNQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElCQVFBKzB0ODgwektUcXNBMkR5V1VCT3VON0ZWTFkyWmU0bnBFcDFLbklEZzMKN0FOWXZ2SzdxdXVwYVNocjNSdE5SVlhkUUdaOWpuYko3QXhaTmNScG1QMEJwRnRzOUlBSmxWdi9aRHVoRnBnVApaZ05Ub3d0TldLTXMvQUlsWHdScDQ3WStvVDg2ckFkMUswOWNSNzVxOHR4KzJGRUdRRDVyZkxYLzZqQVNab2QwCnBsL3g3SWRMNThhTUo2TXZ6dEx4TE9LQ0ZGaC9wZUxsK3MwRUJvK1MrUER1R2xRTWdpeEtHTDBSc0U3T2FER0UKc014Rk9IcXhMY1pzcjZRdkVJazdCbm1EVDVUSFl4YXZldk5kbzhDazZVRlMyUTN2d1VjYWxxNWtCVmNjV29WQQpzei9LbzhaQmFvRk50RUk0N3lHMWEvWTlKNGhIdGRpYzY4di91anVLTU5UbwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDL0RDQ0FlU2dBd0lCQWdJUVdnVkk0WWRkVHpQajU3VzdsTGJRWGpBTkJna3Foa2lHOXcwQkFRc0ZBREFZCk1SWXdGQVlEVlFRS0V3MWpiSFZ6ZEdWeUxteHZZMkZzTUI0WERUSXhNRGN4T0RBek5Ea3lORm9YRFRNeE1EY3gKTmpBek5Ea3lORm93R0RFV01CUUdBMVVFQ2hNTlkyeDFjM1JsY2k1c2IyTmhiRENDQVNJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTGxNUWc1U05QbzZ6Y0xla3hDRjZMTVcwRGhFRWlpNWx5emJiOGc1Ck1TRTJnN1JQWVN3Rkh6dEpIU2wwcU5ZT3EyNnVLRXYyK0NXYjdtUGlId3V3YWVWdGNoeUhDN0w0ZEZDYUpic3MKMW00bDhyczU1UGt6VWJZTXlFZWs5bFA2ME9KMVEyRllRUGo3UTAwNGhrQ3E3dVkySlBrVWo3UEdQeHk1RG5LQgpYYjR3UXFvdDFUKzgwQm43VjdqTktxeTUwZXNHM0NTeVJWTlQzbld3NVo5eTArR053N0o1S3d2ajQ4T0hNNG1qCmdwS0cyYXlGRFIvS21xUWFOSFFhNHZ2akdhTHZvYURSanplL0xBZkFjeGFNK2NnQXB4QTl2SWE4cjZzY0IwblQKZ2o2TDc2V04xYUd5dzBOc3ViR1hxV3hNTnZXMDR6NlVuTmZFcThFQmlkRVJaVzBDQXdFQUFhTkNNRUF3RGdZRApWUjBQQVFIL0JBUURBZ0lFTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkkyb3pLZVdIOEhSCjVwSThBWFM1ZTVjczk2Vk9NQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJIcXI4OEJleTNYQjNJRTVwem03aG8KeG1SY0x4RnhzbEpTRmRMUFVoSmhpZVhUYTY2VUNnZTVyZ0ovS2UvZ29CQnBGVHhiMlhrMWRVM1crUWdqcGpkdwpIME5rNHBkU0hydmIwQ3g5bXJOV0ZjREVVakYxMXZSRm04bXBOQmtDZGdRVkdaa1hNU0wxUTF0ZGEybUMxL1FxCjhRL3pHM3N6U05TSCsyZDM0MVZhaTBDN2tnOGFxZkQ0V2lQNGpEWVBDQTFDZE1yakNYL21ybVNpUEZpQWZTUjEKY28yeFQ2ZE15WVV2MlFMQVZQZnRjNnVpbnJBZ1hHWFpnck9ZRXllT0JQZUpZS0pGakVINTR0UU13NEVydlRLTAptUmxjZmNndnA0SEJlNlFRVE5QUHExcjRYSU9kc1BKc0d5TVBDUFNGRXkxV25UZit2UWhhM1huRTZXdi9BcXNaCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
        private_key:
          inline_bytes: W3JlZGFjdGVkXQ==
  - last_updated: "2021-11-17T12:24:22.271Z"
    name: ROOTCA
    secret:
      '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.Secret
      name: ROOTCA
      validation_context:
        trusted_ca:
          inline_bytes: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvRENDQWVTZ0F3SUJBZ0lRV2dWSTRZZGRUelBqNTdXN2xMYlFYakFOQmdrcWhraUc5dzBCQVFzRkFEQVkKTVJZd0ZBWURWUVFLRXcxamJIVnpkR1Z5TG14dlkyRnNNQjRYRFRJeE1EY3hPREF6TkRreU5Gb1hEVE14TURjeApOakF6TkRreU5Gb3dHREVXTUJRR0ExVUVDaE1OWTJ4MWMzUmxjaTVzYjJOaGJEQ0NBU0l3RFFZSktvWklodmNOCkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMbE1RZzVTTlBvNnpjTGVreENGNkxNVzBEaEVFaWk1bHl6YmI4ZzUKTVNFMmc3UlBZU3dGSHp0SkhTbDBxTllPcTI2dUtFdjIrQ1diN21QaUh3dXdhZVZ0Y2h5SEM3TDRkRkNhSmJzcwoxbTRsOHJzNTVQa3pVYllNeUVlazlsUDYwT0oxUTJGWVFQajdRMDA0aGtDcTd1WTJKUGtVajdQR1B4eTVEbktCClhiNHdRcW90MVQrODBCbjdWN2pOS3F5NTBlc0czQ1N5UlZOVDNuV3c1Wjl5MCtHTnc3SjVLd3ZqNDhPSE00bWoKZ3BLRzJheUZEUi9LbXFRYU5IUWE0dnZqR2FMdm9hRFJqemUvTEFmQWN4YU0rY2dBcHhBOXZJYThyNnNjQjBuVApnajZMNzZXTjFhR3l3ME5zdWJHWHFXeE1OdlcwNHo2VW5OZkVxOEVCaWRFUlpXMENBd0VBQWFOQ01FQXdEZ1lEClZSMFBBUUgvQkFRREFnSUVNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUVGSTJvektlV0g4SFIKNXBJOEFYUzVlNWNzOTZWT01BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQkhxcjg4QmV5M1hCM0lFNXB6bTdobwp4bVJjTHhGeHNsSlNGZExQVWhKaGllWFRhNjZVQ2dlNXJnSi9LZS9nb0JCcEZUeGIyWGsxZFUzVytRZ2pwamR3CkgwTms0cGRTSHJ2YjBDeDltck5XRmNERVVqRjExdlJGbThtcE5Ca0NkZ1FWR1prWE1TTDFRMXRkYTJtQzEvUXEKOFEvekczc3pTTlNIKzJkMzQxVmFpMEM3a2c4YXFmRDRXaVA0akRZUENBMUNkTXJqQ1gvbXJtU2lQRmlBZlNSMQpjbzJ4VDZkTXlZVXYyUUxBVlBmdGM2dWluckFnWEdYWmdyT1lFeWVPQlBlSllLSkZqRUg1NHRRTXc0RXJ2VEtMCm1SbGNmY2d2cDRIQmU2UVFUTlBQcTFyNFhJT2RzUEpzR3lNUENQU0ZFeTFXblRmK3ZRaGEzWG5FNld2L0Fxc1oKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ==

