kind: Cluster
apiVersion: "kind.x-k8s.io/v1alpha4"
networking:
  podSubnet: "10.12.0.0/16"
  serviceSubnet: "10.13.0.0/16"
nodes:
  - role: control-plane
  - role: worker
    labels:
      topology.kubernetes.io/region: cn-east1
      topology.kubernetes.io/zone: zone1
  - role: worker
    labels:
      topology.kubernetes.io/region: cn-east1
      topology.kubernetes.io/zone: zone2
  # - role: worker
  #   labels:
  #     topology.kubernetes.io/region: cn-east2
  #     topology.kubernetes.io/zone: zone1
  # - role: worker
  #   labels:
  #     topology.kubernetes.io/region: cn-east2
  #     topology.kubernetes.io/zone: zone2
containerdConfigPatches:
  - |-
    [plugins."io.containerd.grpc.v1.cri".registry.mirrors]
    [plugins."io.containerd.grpc.v1.cri".registry.mirrors."docker.io"]
      endpoint = ["http://192.168.4.146:5000", "https://registry-1.docker.io"]
    [plugins."io.containerd.grpc.v1.cri".registry.mirrors."quay.io"]
      endpoint = ["http://192.168.4.146:5000", "https://quay.io"]
    [plugins."io.containerd.grpc.v1.cri".registry.mirrors."ghcr.io"]
      endpoint = ["http://192.168.4.146:5000", "https://ghcr.io"]
